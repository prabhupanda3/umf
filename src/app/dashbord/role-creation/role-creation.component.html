<div class="wrapper  m-0">
  <div class="content-wrapper container-fluid">
    <div class="card shadow rounded-3">

      <!-- Header -->
      <div class="card-header d-flex align-items-center justify-content-between px-3 py-2" style="background-color:#075E54 !important;">
        <h4 class="text-white mb-0">ROLE MASTER</h4>
      </div>

      <!-- Body -->
      <div class="card-body p-3">

        <!-- User Role & Description (row only) -->
        <div class="row g-4 mb-3">
          <div class="col-md-6">
            <label class="form-label fw-bold">User Role:</label>
            <input type="text" [(ngModel)]="roleName" placeholder="Role"
              class="form-control shadow-sm border-primary rounded-2">
          </div>

          <div class="col-md-6">
            <label class="form-label fw-bold">User Role Description:</label>
            <input type="text" [(ngModel)]="roleDes" placeholder="Description"
              class="form-control shadow-sm border-primary rounded-2">
          </div>
        </div>

        <!-- Hierarchy Level & Parent Role -->
        <div class="row g-4 mb-4">
          <div class="col-md-6">
            <label for="hierarchyDropdown" class="form-label fw-bold">Hierarchy Level:</label>
            <select id="hierarchyDropdown" [(ngModel)]="hierarchy"
              class="form-select shadow-sm border-primary rounded-2" [ngClass]="{'is-invalid': !hierarchy}">
              <option value="" disabled selected>Select a hierarchy</option>
              <option *ngFor="let item of hirarchyList" [value]="item">{{ item }}</option>
            </select>
          </div>

          <div class="col-md-6">
            <label for="parentRole" class="form-label fw-bold">Parent Role:</label>
            <select id="parentRole" [(ngModel)]="parentrole"
              class="form-select shadow-sm border-primary rounded-2">
              <option value="" disabled selected>Select a parent role</option>
              <option *ngFor="let option of parentHirarchy" [value]="option">{{ option }}</option>
            </select>
          </div>
        </div>

        <!-- Access Control Section -->
        <h3 class="mb-3 text-primary">Access Control</h3>
        <div class="table-responsive">
          <table class="table table-striped align-middle text-center">
            <thead class="table-light">
              <tr>
                <th>Module Name</th>
                <th>Sub Module Name</th>
                <th>Add</th>
                <th>Edit</th>
                <th>Delete</th>
                <th>View</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let action of actions">
                <td class="fw-medium">{{ action.moduleName }}</td>
                <td class="fw-medium">{{ action.sabmoduleName }}</td>
                <td><input type="checkbox" [disabled]="action.sabModuleAction.add !== '1'"
                    class="form-check-input mx-auto d-block"></td>
                <td><input type="checkbox" [disabled]="action.sabModuleAction.edit !== '1'"
                    class="form-check-input mx-auto d-block"></td>
                <td><input type="checkbox" [disabled]="action.sabModuleAction.delete !== '1'"
                    class="form-check-input mx-auto d-block"></td>
                <td><input type="checkbox" [disabled]="action.sabModuleAction.view !== '1'"
                    class="form-check-input mx-auto d-block"></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Save Button -->
        <div class="text-end mt-3">
          <button class="btn btn-success px-4" (click)="addrole()">
            <i class="bi bi-save me-2"></i>Save Role
          </button>
        </div>

        <!-- Popup -->
        <div class="popup-overlay d-flex align-items-center justify-content-center" *ngIf="isOpen">
          <div class="popup-content bg-white p-4 shadow rounded-3 text-center">
            <h3 class="text-success">{{ roleCreated }}</h3>
          </div>
        </div>

      </div> <!-- card-body -->
    </div> <!-- card -->
  </div>
</div>
